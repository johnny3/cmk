{% extends "::baseAdmin.html.twig" %}

{% block body_admin %}

{% for flashMessage in app.session.flashbag.get('notice') %}
<div class="flash-notice">
        {{ flashMessage }}
    </div>
{% endfor %}

    <form action="{{ path('slider_admin_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }} novalidate>
        <div id="shakyamouni_sitebundle_slidertype">
            <p>
                {{ form_label(edit_form.position, 'Position') }}
                {{ form_widget(edit_form.position, { 'attr': {'class': 'text-input small-input'} })  }} {% if form_errors(edit_form.position) %}<span class="input-notification error png_bg">{{ form_errors(edit_form.position) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.isCaption, 'Encart visible') }}
                {{ form_widget(edit_form.isCaption) }} {% if form_errors(edit_form.isCaption) %}<span class="input-notification error png_bg">{{ form_errors(edit_form.isCaption) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.title, 'Titre dans l\'encart') }}
                {{ form_widget(edit_form.title, { 'attr': {'class': 'text-input medium-input'} }) }} {% if form_errors(edit_form.title) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.title) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.subtitle, 'Sous-titre dans l\'encart') }}
                {{ form_widget(edit_form.subtitle, { 'attr': {'class': 'text-input medium-input'} }) }} {% if form_errors(edit_form.subtitle) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.subtitle) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.file, 'Image') }}
                    {% if entity.picture is defined and entity.picture is not null %}
                        {% set filter_picture_size = 'thumbnail_480x180' %}
                        <p><img class="article-img" alt="{{entity.picture}}" src="{{ asset(['uploads/carrousel/', entity.picture] | join | apply_filter(filter_picture_size)) }}"></p>
                    {% endif %}
                {{ form_widget(edit_form.file) }}  {% if form_errors(edit_form.file) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.file) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.event, 'Evénement lié') }}             
                {{ form_widget(edit_form.event, { 'attr': {'class': 'small-input'} }) }}  {% if form_errors(edit_form.event) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.event) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.articleevent, 'Article lié (relatif à un type d\'événement)') }}             
                {{ form_widget(edit_form.articleevent, { 'attr': {'class': 'small-input'} }) }}  {% if form_errors(edit_form.articleevent) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.articleevent) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.article, 'Article lié') }}             
                {{ form_widget(edit_form.article, { 'attr': {'class': 'small-input'} }) }}  {% if form_errors(edit_form.article) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.article) }}</span> {% endif %}
            </p>

            <p>
                {{ form_label(edit_form.subcategory, 'Sous catégorie') }}             
                {{ form_widget(edit_form.subcategory, { 'attr': {'class': 'small-input'} }) }}  {% if form_errors(edit_form.subcategory) %} <span class="input-notification error png_bg">{{ form_errors(edit_form.subcategory) }}</span> {% endif %}
            </p>
          </div>

    {{ form_rest(edit_form) }}

            <p>
                <button class="button" type="submit">Mettre à jour</button>
            </p>
        </form>
{% endblock %} 